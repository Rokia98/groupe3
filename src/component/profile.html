<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Utilisateur - Sant√© Mentale Post-Partum</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6',
                        accent: '#ec4899',
                        dark: '#1e293b',
                        light: '#f8fafc'
                    }
                }
            }
        }
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #93c5fd;
            margin-right: 4px;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }
        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        </style>
</head>

<body class="bg-gray-50 font-sans">

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-white shadow-md hidden md:block">
            <div class="p-6">
                <h1 class="text-2xl font-bold text-primary flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                    </svg>
                    Douce Maternit√©
                </h1>
            </div>
            <nav class="px-4">
                <div class="mb-8">
                    <h3 class="text-xs uppercase font-semibold text-gray-500 px-4 mb-4">Navigation</h3>
                    <a href="profile.html" class="flex items-center px-4 py-3 text-primary bg-blue-50 rounded-lg font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        Mon Profil
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-600 hover:text-primary rounded-lg font-medium mt-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                        </svg>
                        Sant√© Mentale
                    </a>
                    <a href="proges.html" class="flex items-center px-4 py-3 text-gray-600 hover:text-primary rounded-lg font-medium mt-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        Suivi et Progr√®s
                    </a>
                </div>
                <div class="mb-8">
                    <h3 class="text-xs uppercase font-semibold text-gray-500 px-4 mb-4">Ressources</h3>
                    <a href="ressources.html" class="flex items-center px-4 py-3 text-gray-600 hover:text-primary rounded-lg font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        Documents utiles
                    </a>
                    <a href="forum.html" class="flex items-center px-4 py-3 text-gray-600 hover:text-primary rounded-lg font-medium mt-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
                        </svg>
                        Forum
                    </a>
                </div>
                <div class="px-4 py-6 bg-blue-50 rounded-lg">
                    <h3 class="font-medium text-primary mb-2">Besoin d'aide ?</h3>
                    <p class="text-sm text-gray-600 mb-3">Notre √©quipe est disponible 24h/24 pour vous accompagner.</p>
                    <button class="w-full bg-primary text-white py-2 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors">
                        Contactez-nous
                    </button>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6">
            <!-- Header -->
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-dark">Tableau de bord</h2>
                <div class="flex items-center">
                    <div class="relative">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-accent"></span>
                    </div>
                    <div class="ml-6 flex items-center">
                        <img src="https://cdn-icons-png.freepik.com/256/6997/6997481.png" class="w-8 h-8 rounded-full border-2 border-primary" alt="Photo de profil">
                        <span class="ml-2 font-medium">Marie</span>
                    </div>
                </div>
            </div>

            <!-- Widgets -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Widget Humeur -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-700">Humeur du jour</h3>
                        <div class="p-2 bg-blue-100 rounded-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <span class="text-4xl">üòä</span>
                        <p class="text-gray-600 mt-2">Plut√¥t bien</p>
                    </div>
                    <button class="w-full mt-4 py-2 bg-blue-50 text-primary rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors">
                        Mettre √† jour
                    </button>
                </div>

                <!-- Widget Sommeil -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-700">Sommeil</h3>
                        <div class="p-2 bg-purple-100 rounded-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                            </svg>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <span class="text-3xl font-bold text-dark">6.2</span>
                        <p class="text-gray-600">heures en moyenne</p>
                    </div>
                    <button class="w-full mt-4 py-2 bg-purple-50 text-secondary rounded-lg text-sm font-medium hover:bg-purple-100 transition-colors">
                        Voir le d√©tail
                    </button>
                </div>

                <!-- Widget Activit√© -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-700">Activit√©</h3>
                        <div class="p-2 bg-green-100 rounded-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                            </svg>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <span class="text-3xl font-bold text-dark">3/5</span>
                        <p class="text-gray-600">exercices compl√©t√©s</p>
                    </div>
                    <button class="w-full mt-4 py-2 bg-green-50 text-green-500 rounded-lg text-sm font-medium hover:bg-green-100 transition-colors">
                        Voir les exercices
                    </button>
                </div>

                <!-- Widget Progression -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-700">Progression</h3>
                        <div class="p-2 bg-yellow-100 rounded-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                            </svg>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <div class="radial-progress text-primary" style="--value:65; --size:3.5rem;">65%</div>
                        <p class="text-gray-600 mt-2">Objectif hebdomadaire</p>
                    </div>
                </div>
            </div>

            <!-- Graphiques -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <!-- Graphique Humeur -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 lg:col-span-2">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-semibold text-gray-700">√âvolution de votre humeur</h3>
                        <select class="border border-gray-200 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary">
                            <option>7 derniers jours</option>
                            <option>30 derniers jours</option>
                            <option selected>3 derniers mois</option>
                        </select>
                    </div>
                    <canvas id="moodChart" height="250"></canvas>
                </div>

                <!-- Ressources -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="font-semibold text-gray-700 mb-6">Ressources recommand√©es</h3>
                    <div class="space-y-4">
                        <a href="#" class="resource-card block p-4 border border-gray-100 rounded-lg hover:border-primary transition-all duration-300">
                            <div class="flex items-start">
                                <div class="p-2 bg-blue-100 rounded-lg mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-medium text-dark">Guide post-partum</h4>
                                    <p class="text-sm text-gray-500 mt-1">T√©l√©chargez notre guide complet</p>
                                </div>
                            </div>
                        </a>
                        <a href="#" class="resource-card block p-4 border border-gray-100 rounded-lg hover:border-primary transition-all duration-300">
                            <div class="flex items-start">
                                <div class="p-2 bg-purple-100 rounded-lg mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-medium text-dark">M√©ditation guid√©e</h4>
                                    <p class="text-sm text-gray-500 mt-1">S√©ance de 10 minutes</p>
                                </div>
                            </div>
                        </a>
                        <a href="#" class="resource-card block p-4 border border-gray-100 rounded-lg hover:border-primary transition-all duration-300">
                            <div class="flex items-start">
                                <div class="p-2 bg-green-100 rounded-lg mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-medium text-dark">Groupe de soutien</h4>
                                    <p class="text-sm text-gray-500 mt-1">Rejoignez notre communaut√©</p>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Journal -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-8">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="font-semibold text-gray-700">Votre journal</h3>
                    <button class="flex items-center text-primary text-sm font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                        </svg>
                        Nouvelle entr√©e
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="border border-gray-100 rounded-lg p-4 hover:shadow-md transition-shadow">
                        <div class="text-xs text-gray-500 mb-2">Aujourd'hui, 14:30</div>
                        <h4 class="font-medium mb-2">Premi√®re sortie avec b√©b√©</h4>
                        <p class="text-sm text-gray-600 line-clamp-2">Aujourd'hui nous sommes sortis pour la premi√®re fois au parc. C'√©tait stressant mais finalement une belle exp√©rience.</p>
                        <div class="flex mt-3">
                            <span class="text-xs px-2 py-1 bg-blue-50 text-primary rounded-full">üòä Content</span>
                        </div>
                    </div>
                    <div class="border border-gray-100 rounded-lg p-4 hover:shadow-md transition-shadow">
                        <div class="text-xs text-gray-500 mb-2">Hier, 20:15</div>
                        <h4 class="font-medium mb-2">Nuit difficile</h4>
                        <p class="text-sm text-gray-600 line-clamp-2">B√©b√© a pleur√© toute la nuit. Je me sens √©puis√©e et un peu d√©courag√©e.</p>
                        <div class="flex mt-3">
                            <span class="text-xs px-2 py-1 bg-blue-50 text-primary rounded-full">üòû Fatigu√©</span>
                        </div>
                    </div>
                    <div class="border border-gray-100 rounded-lg p-4 hover:shadow-md transition-shadow">
                        <div class="text-xs text-gray-500 mb-2">Lundi, 10:00</div>
                        <h4 class="font-medium mb-2">Visite chez le p√©diatre</h4>
                        <p class="text-sm text-gray-600 line-clamp-2">Tout va bien pour b√©b√© ! Le m√©decin a √©t√© tr√®s rassurant sur mon √©tat aussi.</p>
                        <div class="flex mt-3">
                            <span class="text-xs px-2 py-1 bg-blue-50 text-primary rounded-full">üòÅ Heureux</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div x-data="chatbot()" class="fixed bottom-6 right-6 z-50">
        <!-- Bouton du chatbot -->
        <button 
            @click="chatOpen = !chatOpen" 
            class="w-16 h-16 bg-primary rounded-full shadow-xl flex items-center justify-center text-white hover:bg-blue-600 transition-all animate__animated"
            :class="{ 'rotate-45': chatOpen, 'animate__pulse': !chatOpen && hasNewMessage }"
            x-init="setInterval(() => { if (!chatOpen) hasNewMessage = Math.random() > 0.7 }, 30000)"
        >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path x-show="!chatOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                <path x-show="chatOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
            <span x-show="!chatOpen && hasNewMessage" class="absolute top-0 right-0 w-4 h-4 bg-accent rounded-full border-2 border-white"></span>
        </button>
    
        <!-- Fen√™tre du chatbot -->
        <div 
            x-show="chatOpen" 
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 scale-95"
            x-transition:enter-end="opacity-100 scale-100"
            x-transition:leave="transition ease-in duration-200"
            x-transition:leave-start="opacity-100 scale-100"
            x-transition:leave-end="opacity-0 scale-95"
            class="absolute bottom-24 right-0 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden flex flex-col"
            style="height: 600px;"
        >
            <!-- En-t√™te -->
            <div class="bg-gradient-to-r from-primary to-secondary text-white p-4 flex items-center">
                <div class="w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
                    </svg>
                </div>
                <div>
                    <h3 class="font-semibold">Assistant Douce Maternit√©</h3>
                    <p class="text-xs opacity-80" x-text="typing ? 'En train de r√©pondre...' : 'En ligne'"></p>
                </div>
                <div class="ml-auto flex space-x-2">
                    <button @click="showThemes = !showThemes" class="text-white opacity-70 hover:opacity-100" title="Changer de th√®me">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
                        </svg>
                    </button>
                    <button @click="chatOpen = false" class="text-white opacity-70 hover:opacity-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
    
            <!-- Th√®mes -->
            <div x-show="showThemes" class="bg-gray-50 p-3 border-b border-gray-200 flex space-x-2">
                <button @click="theme = 'primary'" class="w-6 h-6 bg-blue-500 rounded-full border-2" :class="{ 'border-white': theme === 'primary', 'border-transparent': theme !== 'primary' }"></button>
                <button @click="theme = 'secondary'" class="w-6 h-6 bg-purple-500 rounded-full border-2" :class="{ 'border-white': theme === 'secondary', 'border-transparent': theme !== 'secondary' }"></button>
                <button @click="theme = 'accent'" class="w-6 h-6 bg-pink-500 rounded-full border-2" :class="{ 'border-white': theme === 'accent', 'border-transparent': theme !== 'accent' }"></button>
                <button @click="theme = 'dark'" class="w-6 h-6 bg-gray-800 rounded-full border-2" :class="{ 'border-white': theme === 'dark', 'border-transparent': theme !== 'dark' }"></button>
            </div>
    
            <!-- Messages -->
            <div class="flex-1 p-4 overflow-y-auto bg-gray-50" id="chatMessages">
                <template x-for="(message, index) in messages" :key="index">
                    <div class="mb-4 flex" :class="{ 'justify-end': message.sender === 'user' }">
                        <div 
                            class="max-w-xs p-4 rounded-xl shadow-sm"
                            :class="{
                                'bg-primary text-white rounded-br-none': message.sender === 'user',
                                'bg-white border border-gray-200 rounded-bl-none': message.sender === 'bot'
                            }"
                        >
                            <p x-text="message.text"></p>
                            <div class="text-xs mt-2 opacity-70 text-right" x-text="message.time"></div>
                            
                            <!-- Actions pour certains messages -->
                            <template x-if="message.actions && message.sender === 'bot'">
                                <div class="mt-3 pt-3 border-t border-opacity-20" :class="{ 'border-white': message.sender === 'user', 'border-gray-200': message.sender === 'bot' }">
                                    <div class="flex flex-wrap gap-2">
                                        <template x-for="(action, i) in message.actions">
                                            <button 
                                                @click="handleAction(action)"
                                                class="text-xs px-3 py-1 rounded-full"
                                                :class="{
                                                    'bg-white bg-opacity-20 hover:bg-opacity-30': message.sender === 'user',
                                                    'bg-gray-100 hover:bg-gray-200': message.sender === 'bot'
                                                }"
                                            >
                                                <span x-text="action"></span>
                                            </button>
                                        </template>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                </template>
                
                <!-- Indicateur de saisie -->
                <div x-show="typing" class="flex mb-4">
                    <div class="bg-white border border-gray-200 p-3 rounded-xl rounded-bl-none max-w-xs">
                        <div class="typing-indicator">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Suggestions rapides -->
            <div x-show="showQuickReplies" class="px-4 pb-3 bg-gray-50 border-t border-gray-200">
                <div class="flex flex-wrap gap-2">
                    <template x-for="(reply, index) in quickReplies" :key="index">
                        <button 
                            @click="sendQuickReply(reply)"
                            class="text-xs px-3 py-1.5 bg-white border border-gray-200 rounded-full hover:bg-gray-100 transition-colors"
                        >
                            <span x-text="reply"></span>
                        </button>
                    </template>
                </div>
            </div>
    
            <!-- Champ de saisie -->
            <div class="p-4 border-t border-gray-200 bg-white">
                <div class="flex items-center">
                    <button @click="showEmojiPicker = !showEmojiPicker" class="p-2 text-gray-500 hover:text-primary rounded-lg mr-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </button>
                    <input 
                        x-model="userInput" 
                        @keyup.enter="sendMessage()" 
                        type="text" 
                        placeholder="√âcrivez votre message..." 
                        class="flex-1 border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    >
                    <button 
                        @click="sendMessage()" 
                        class="bg-primary text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                        </svg>
                    </button>
                </div>
                
                <!-- S√©lecteur d'√©motic√¥nes -->
                <div x-show="showEmojiPicker" class="mt-2 p-2 bg-white border border-gray-200 rounded-lg shadow-lg">
                    <div class="grid grid-cols-8 gap-1">
                        <template x-for="emoji in emojis">
                            <button 
                                @click="userInput += emoji; showEmojiPicker = false"
                                class="text-xl hover:bg-gray-100 rounded p-1"
                                x-text="emoji"
                            ></button>
                        </template>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Graphiques
        document.addEventListener('DOMContentLoaded', function() {
            // Graphique d'humeur
            const moodCtx = document.getElementById('moodChart').getContext('2d');
            new Chart(moodCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'F√©v', 'Mar', 'Avr', 'Mai', 'Juin'],
                    datasets: [{
                        label: 'Niveau de bien-√™tre',
                        data: [3, 4, 2, 5, 4, 3],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#3b82f6',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            ticks: {
                                callback: function(value) {
                                    const emojis = ['', 'üòû', 'üôÅ', 'üòê', 'üòä', 'üòÅ'];
                                    return emojis[value];
                                }
                            }
                        }
                    }
                }
            });
        });

        function chatbot() {
    return {
        chatOpen: false,
        userInput: '',
        typing: false,
        showQuickReplies: true,
        showThemes: false,
        showEmojiPicker: false,
        hasNewMessage: false,
        theme: 'primary',
        messages: [
            {
                sender: 'bot',
                text: 'Bonjour ! Je suis votre assistant virtuel pour la sant√© mentale post-partum. Comment puis-je vous aider aujourd\'hui ?',
                time: this.getCurrentTime(),
                actions: ['Ressources', 'Exercices', 'Journal']
            }
        ],
        quickReplies: [
            "Je me sens triste",
            "Exercice de relaxation",
            "Ressources utiles",
            "Parler √† un professionnel"
        ],
        emojis: ['üòÄ', 'üòä', 'üòç', 'üòÇ', 'üò≠', 'üò°', 'ü§î', 'üò¥', 'üëç', '‚ù§Ô∏è', 'üôè', 'üéâ'],
        
        getCurrentTime() {
            const now = new Date();
            return `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
        },

        sendMessage() {
            if (!this.userInput.trim()) return;

            // Ajouter le message de l'utilisateur
            this.messages.push({
                sender: 'user',
                text: this.userInput,
                time: this.getCurrentTime()
            });

            const userMessage = this.userInput.toLowerCase();
            this.userInput = '';
            this.showQuickReplies = false;
            this.typing = true;

            // Simuler un d√©lai de r√©ponse
            setTimeout(() => {
                this.typing = false;
                const botResponse = this.generateResponse(userMessage);
                
                this.messages.push({
                    sender: 'bot',
                    text: botResponse.text,
                    time: this.getCurrentTime(),
                    actions: botResponse.actions
                });
                
                this.showQuickReplies = true;
            }, 1000);
        },

        sendQuickReply(reply) {
            this.userInput = reply;
            this.sendMessage();
        },
        
        handleAction(action) {
            let response = "";
            let actions = [];
            
            switch(action) {
                case 'Ressources':
                    response = "Voici quelques ressources :\n1. Guide post-partum\n2. M√©ditations\n3. Professionnels\n\nLaquelle vous int√©resse ?";
                    actions = ['Guide', 'M√©ditations', 'Professionnels'];
                    break;
                case 'Exercices':
                    response = "Je peux vous guider pour :\n1. Respiration\n2. Relaxation\n3. Journal\n\nLequel souhaitez-vous ?";
                    actions = ['Respiration', 'Relaxation', 'Journal'];
                    break;
                case 'Journal':
                    response = "Options de journal :\n1. Nouvelle entr√©e\n2. Anciennes notes\n3. Conseils";
                    actions = ['Nouvelle entr√©e', 'Anciennes notes', 'Conseils'];
                    break;
                default:
                    response = "Pouvez-vous reformuler ?";
            }
            
            this.messages.push({
                sender: 'bot',
                text: response,
                time: this.getCurrentTime(),
                actions: actions
            });
        },

        generateResponse(message) {
            if (message.includes('bonjour') || message.includes('salut')) {
                return {
                    text: "Bonjour ! Comment puis-je vous aider ?",
                    actions: ['Humeur', 'Stress', 'Fatigue']
                };
            } else if (message.includes('triste')) {
                return {
                    text: "Je comprends. Parlons-en. Que ressentez-vous exactement ?",
                    actions: ['En parler', 'Exercice', 'Ressources']
                };
            } else {
                return {
                    text: "Je vois. Comment puis-je vous aider davantage ?",
                    actions: ['Autre question', 'Ressources', 'Contact']
                };
            }
        }
    }
}

    </script>
</body>
</html>